<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>KamoX Electron Sample</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        h1 {
            font-size: 3rem;
            margin-bottom: 0.5rem;
        }

        p {
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .status {
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            margin-top: 2rem;
        }
    </style>
</head>

<body>
    <h1>KamoX Electron</h1>
    <p>Phase 2 Advanced Verification App</p>

    <div style="margin-top: 2rem;">
        <input type="text" id="username" placeholder="Enter username" style="padding: 0.5rem;">
        <button id="submitBtn" style="padding: 0.5rem;">Submit</button>
    </div>

    <div style="margin-top: 1rem;">
        <button id="settingsBtn" style="padding: 0.5rem;">Open Settings Window</button>
        <button id="dialogBtn" style="padding: 0.5rem; background-color: #4CAF50; color: white;">Select File</button>
        <button id="greetBtn" style="padding: 0.5rem; background-color: #2196F3; color: white;">Greet</button>
    </div>

    <div class="status" id="status">Ready</div>

    <script>
        const { ipcRenderer } = require('electron');
        console.log('Renderer process loaded');

        document.getElementById('submitBtn').addEventListener('click', () => {
            const val = document.getElementById('username').value;
            console.log(`Submitting username: ${val}`);
            ipcRenderer.send('submit-form', { username: val });
        });

        document.getElementById('settingsBtn').addEventListener('click', () => {
            console.log('Opening settings...');
            ipcRenderer.send('open-settings');
        });

        document.getElementById('dialogBtn').addEventListener('click', async () => {
            console.log('Opening dialog...');
            const result = await ipcRenderer.invoke('open-dialog', { title: 'Select File Test' });
            document.getElementById('status').innerText = `Selected: ${JSON.stringify(result)}`;
        });

        document.getElementById('greetBtn').addEventListener('click', async () => {
            console.log('Greeting...');
            const result = await ipcRenderer.invoke('greet', 'KamoX User');
            document.getElementById('status').innerText = `Response: ${result}`;
        });

    </script>
</body>

</html>